<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seu Ciclo, Seu Poder</title>
    <!-- Importando o Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Importando a fonte Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <!-- Importando a biblioteca Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Aplicando a fonte Inter como padr√£o */
        body {
            font-family: 'Inter', sans-serif;
        }

        /* Estilo para a transi√ß√£o suave do conte√∫do do acorde√£o */
        .module-content {
            transition: max-height 0.3s ease-out, padding 0.3s ease-out;
            max-height: 0;
            overflow: hidden;
            padding-top: 0;
            padding-bottom: 0;
        }

        .module-content:not(.hidden) {
            max-height: 2000px;
            /* Um valor alto para permitir expans√£o */
            padding-top: 1.5rem;
            /* 24px */
            padding-bottom: 1.5rem;
            /* 24px */
        }
    </style>
</head>

<body class="bg-violet-50 text-gray-700 pb-24"> <!-- Padding-bottom para n√£o cobrir o conte√∫do -->

    <!-- Container Principal (agora guarda as "p√°ginas") -->
    <div class="max-w-3xl mx-auto p-4 sm:p-8">

        <!-- ======================= -->
        <!-- P√ÅGINA: IN√çCIO (default) -->
        <!-- ======================= -->
        <div id="page-inicio" class="page-content">
            <!-- Cabe√ßalho -->
            <header class="text-center mb-10">
                <h1 class="text-4xl sm:text-5xl font-bold text-violet-700 mb-4">Seu Ciclo, Seu Poder</h1>
                <p class="text-lg text-gray-600">Um guia amig√°vel para entender tudo sobre a sua primeira menstrua√ß√£o e
                    seu corpo.</p>
            </header>

            <main>
                <!-- Diagrama do Ciclo (Baseado na Imagem) -->
                <section class="mb-12">
                    <div class="relative w-64 h-64 sm:w-72 sm:h-72 mx-auto">
                        <!-- Quadrantes Coloridos -->
                        <div
                            class="absolute top-0 left-0 w-1/2 h-1/2 bg-rose-300 rounded-tl-full flex items-start justify-start p-6 sm:p-8">
                            <span class="font-bold text-rose-800 text-sm sm:text-base">Menstrua√ß√£o</span>
                        </div>
                        <div
                            class="absolute top-0 right-0 w-1/2 h-1/2 bg-emerald-300 rounded-tr-full flex items-start justify-end p-6 sm:p-8 text-right">
                            <span class="font-bold text-emerald-800 text-sm sm:text-base">Ovula√ß√£o</span>
                        </div>
                        <div
                            class="absolute bottom-0 left-0 w-1/2 h-1/2 bg-violet-300 rounded-bl-full flex items-end justify-start p-6 sm:p-8">
                            <span class="font-bold text-violet-800 text-sm sm:text-base">Folicular</span>
                        </div>
                        <div
                            class="absolute bottom-0 right-0 w-1/2 h-1/2 bg-sky-300 rounded-br-full flex items-end justify-end p-6 sm:p-8 text-right">
                            <span class="font-bold text-sky-800 text-sm sm:text-base">L√∫tea</span>
                        </div>

                        <!-- C√≠rculo Central -->
                        <div
                            class="absolute top-1/2 left-1/2 w-28 h-28 sm:w-32 sm:h-32 bg-white rounded-full transform -translate-x-1/2 -translate-y-1/2 flex items-center justify-center shadow-lg">
                            <span class="text-5xl">ü©∏</span>
                        </div>
                    </div>
                </section>

                <!-- Wrapper dos M√≥dulos Acorde√£o -->
                <div class="space-y-6">

                    <!-- M√ìDULO 1: O CICLO SEM MIST√âRIO -->
                    <div class="shadow-lg rounded-2xl">
                        <!-- Cabe√ßalho Clic√°vel -->
                        <div
                            class="module-toggle bg-white p-5 sm:p-6 rounded-2xl flex justify-between items-center cursor-pointer">
                            <div class="flex items-center">
                                <span class="text-3xl mr-4">ü©∏</span>
                                <div>
                                    <h2 class="text-xl sm:text-2xl font-bold text-gray-800">M√ìDULO 1: O CICLO SEM
                                        MIST√âRIO</h2>
                                    <p class="text-sm sm:text-base text-gray-600">Dura√ß√£o Normal: 21-35 dias.</p>
                                </div>
                            </div>
                            <span class="toggle-icon text-3xl font-bold text-violet-600">Ôºã</span>
                        </div>
                        <!-- Conte√∫do Oculto -->
                        <div class="module-content hidden bg-white rounded-b-2xl border-t border-gray-100 px-5 sm:px-6">
                            <!-- Card: O que √© o Ciclo? -->
                            <div class="bg-violet-50 p-6 rounded-2xl shadow-inner mb-6">
                                <h3 class="text-xl font-bold text-violet-600 mb-3">O que √© o Ciclo?</h3>
                                <p class="leading-relaxed">O ciclo menstrual come√ßa no primeiro dia da sua menstrua√ß√£o e
                                    vai at√© o dia anterior √† pr√≥xima. Seu corpo se prepara para uma poss√≠vel gravidez a
                                    cada m√™s. Se ela n√£o acontece, ele 'limpa a casa' e o sangramento vem.</p>
                                <p class="font-semibold text-gray-800 mt-3">Dura√ß√£o Normal: 21 a 35 dias.</p>
                            </div>
                            <!-- Grid Fases do Ciclo -->
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                                    <h3 class="text-xl font-bold text-rose-600 mb-3">Menstrua√ß√£o</h3>
                                    <p class="leading-relaxed">√â a descama√ß√£o da camada interna do seu √∫tero
                                        (endom√©trio).<br><strong>Dica:</strong> N√£o √© sangue 'sujo'! √â apenas um tecido
                                        que seu corpo n√£o precisava mais. A dura√ß√£o costuma ser de 3 a 7 dias.</p>
                                </div>
                                <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                                    <h3 class="text-xl font-bold text-violet-600 mb-3">Folicular (Pr√©-Ovula√ß√£o)</h3>
                                    <p class="leading-relaxed">Seu corpo est√° produzindo estrog√™nio e preparando um
                                        √≥vulo. Muitas vezes voc√™ se sente com mais energia, disposta e com mais foco.
                                    </p>
                                </div>
                                <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                                    <h3 class="text-xl font-bold text-emerald-600 mb-3">Ovula√ß√£o</h3>
                                    <p class="leading-relaxed">O √≥vulo √© liberado. √â o "√°pice" do seu ciclo, e voc√™ pode
                                        notar um muco vaginal mais transparente e el√°stico neste per√≠odo.</p>
                                </div>
                                <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                                    <h3 class="text-xl font-bold text-sky-600 mb-3">L√∫tea (Pr√©-Menstrual)</h3>
                                    <p class="leading-relaxed">O horm√¥nio progesterona domina aqui. √â normal sentir mais
                                        sono, incha√ßo e algumas mudan√ßas de humor (TPM). Seu corpo est√° guardando
                                        energia.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- SINAIS DE ALERTA -->
                    <div class="shadow-lg rounded-2xl">
                        <!-- Cabe√ßalho Clic√°vel -->
                        <div
                            class="module-toggle bg-orange-100 p-5 sm:p-6 rounded-2xl flex justify-between items-center cursor-pointer">
                            <div class="flex items-center">
                                <span class="text-3xl mr-4">üö®</span>
                                <div>
                                    <h2 class="text-xl sm:text-2xl font-bold text-orange-700">Sinais de Alerta</h2>
                                    <p class="text-sm sm:text-base text-orange-600">Quando procurar o Enfermeiro?</p>
                                </div>
                            </div>
                            <span class="toggle-icon text-3xl font-bold text-orange-700">Ôºã</span>
                        </div>
                        <!-- Conte√∫do Oculto -->
                        <div
                            class="module-content hidden bg-orange-50 rounded-b-2xl border-t border-orange-200 px-5 sm:px-6">
                            <ul class="list-none space-y-3 text-orange-800">
                                <li class="flex items-start">
                                    <span class="font-bold text-xl mr-3">‚Ä∫</span>
                                    <div><strong>Fluxo Muito Forte:</strong> Precisa trocar absorvente de hora em hora
                                        por mais de 4 horas seguidas.</div>
                                </li>
                                <li class="flex items-start">
                                    <span class="font-bold text-xl mr-3">‚Ä∫</span>
                                    <div><strong>Dor Incapacitante:</strong> C√≥lica que n√£o passa com rem√©dio ou te
                                        impede de ir √† aula/trabalho, ou que te faz vomitar.</div>
                                </li>
                                <li class="flex items-start">
                                    <span class="font-bold text-xl mr-3">‚Ä∫</span>
                                    <div><strong>Ciclos Extremos:</strong> Ciclo com menos de 21 dias ou mais de 35
                                        dias, de forma persistente.</div>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- M√ìDULO 2: BEM-ESTAR E EMO√á√ïES -->
                    <div class="shadow-lg rounded-2xl">
                        <!-- Cabe√ßalho Clic√°vel -->
                        <div
                            class="module-toggle bg-white p-5 sm:p-6 rounded-2xl flex justify-between items-center cursor-pointer">
                            <div class="flex items-center">
                                <span class="text-3xl mr-4">üí™</span>
                                <div>
                                    <h2 class="text-xl sm:text-2xl font-bold text-gray-800">M√ìDULO 2: BEM-ESTAR E
                                        EMO√á√ïES</h2>
                                    <p class="text-sm sm:text-base text-gray-600">Lidando com c√≥licas, TPM e nutri√ß√£o.
                                    </p>
                                </div>
                            </div>
                            <span class="toggle-icon text-3xl font-bold text-violet-600">Ôºã</span>
                        </div>
                        <!-- Conte√∫do Oculto -->
                        <div class="module-content hidden bg-white rounded-b-2xl border-t border-gray-100 px-5 sm:px-6">
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                <!-- Card: C√≥licas -->
                                <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                                    <h3 class="text-xl font-bold text-violet-600 mb-3">C√≥licas: O Que Alivia?</h3>
                                    <ul class="list-none space-y-4">
                                        <li class="flex items-start">
                                            <span class="text-2xl mr-3">üî•</span>
                                            <div><strong>Calor:</strong> Use bolsa de √°gua quente na barriga/costas.
                                                Ajuda a relaxar os m√∫sculos do √∫tero.</div>
                                        </li>
                                        <li class="flex items-start">
                                            <span class="text-2xl mr-3">üíä</span>
                                            <div><strong>Rem√©dio:</strong> Tome o analg√©sico no in√≠cio do inc√¥modo.
                                                Converse com o enfermeiro sobre qual √© o mais indicado.</div>
                                        </li>
                                        <li class="flex items-start">
                                            <span class="text-2xl mr-3">üßò‚Äç‚ôÄÔ∏è</span>
                                            <div><strong>Movimento:</strong> Alongamentos suaves e caminhadas leves
                                                podem ajudar a relaxar.</div>
                                        </li>
                                    </ul>
                                </div>
                                <!-- Card: TPM vs. TDPM -->
                                <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                                    <h3 class="text-xl font-bold text-violet-600 mb-3">TPM vs. TDPM</h3>
                                    <p class="leading-relaxed">√â normal sentir-se diferente (irritada, cansada) antes da
                                        menstrua√ß√£o. Se as emo√ß√µes ou a ansiedade forem t√£o fortes que atrapalham seus
                                        estudos ou sua vida social, chame isso de TDPM. Nesses casos, converse com o
                                        enfermeiro ou um psic√≥logo.</p>
                                </div>
                            </div>
                            <!-- Card: Nutri√ß√£o -->
                            <div class="bg-gray-50 p-6 rounded-2xl shadow-inner mt-6">
                                <h3 class="text-xl font-bold text-violet-600 mb-3">Nutri√ß√£o e Seu Humor</h3>
                                <ul class="list-none space-y-4">
                                    <li class="flex items-start">
                                        <span class="text-2xl mr-3">üíß</span>
                                        <div><strong>Beba √Ågua:</strong> Ajuda a reduzir o incha√ßo e a reten√ß√£o de
                                            l√≠quido da fase pr√©-menstrual.</div>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-2xl mr-3">ü•¶</span>
                                        <div><strong>Coma Ferro:</strong> Durante o fluxo, alimentos ricos em ferro
                                            (carne, legumes escuros) ajudam a repor o que foi perdido e evitam a
                                            fraqueza.</div>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-2xl mr-3">üßÇ</span>
                                        <div><strong>Reduza o Sal:</strong> Menos sal ajuda a reduzir o incha√ßo.</div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- M√ìDULO 3: CUIDADOS PR√ÅTICOS E HIGIENE -->
                    <div class="shadow-lg rounded-2xl">
                        <!-- Cabe√ßalho Clic√°vel -->
                        <div
                            class="module-toggle bg-white p-5 sm:p-6 rounded-2xl flex justify-between items-center cursor-pointer">
                            <div class="flex items-center">
                                <span class="text-3xl mr-4">üß∫</span>
                                <div>
                                    <h2 class="text-xl sm:text-2xl font-bold text-gray-800">M√ìDULO 3: CUIDADOS E HIGIENE
                                    </h2>
                                    <p class="text-sm sm:text-base text-gray-600">Higiene √≠ntima correta e trocas.</p>
                                </div>
                            </div>
                            <span class="toggle-icon text-3xl font-bold text-violet-600">Ôºã</span>
                        </div>
                        <!-- Conte√∫do Oculto -->
                        <div class="module-content hidden bg-white rounded-b-2xl border-t border-gray-100 px-5 sm:px-6">
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                                    <h3 class="text-xl font-bold text-violet-600 mb-3">Higiene √çntima Correta</h3>
                                    <ul class="list-none space-y-4">
                                        <li class="flex items-start">
                                            <span class="text-2xl mr-3">üßº</span>
                                            <div><strong>Como lavar:</strong> Sempre de frente para tr√°s. Use √°gua e
                                                sab√£o neutro (ou sabonete √≠ntimo) somente na parte externa.</div>
                                        </li>
                                        <li class="flex items-start">
                                            <span class="text-2xl mr-3">üö´</span>
                                            <div><strong>O qu√™ evitar:</strong> Nunca lave o canal vaginal por dentro
                                                (ele se limpa sozinho!).</div>
                                        </li>
                                    </ul>
                                </div>
                                <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                                    <h3 class="text-xl font-bold text-violet-600 mb-3">Frequ√™ncia de Troca</h3>
                                    <p class="leading-relaxed"><strong>Regra de Ouro:</strong> Trocar absorvente
                                        (externo) a cada 3 a 4 horas, mesmo com pouco fluxo. Trocar a tempo evita odores
                                        e ajuda a manter a pele saud√°vel.</p>
                                </div>
                                <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                                    <h3 class="text-xl font-bold text-violet-600 mb-3">EcoAbsorvente de Pano</h3>
                                    <p class="leading-relaxed mb-3"><strong>Vantagens:</strong> Sustent√°vel, econ√¥mico a
                                        longo prazo e muito confort√°vel.</p>
                                    <p class="leading-relaxed"><strong>Aten√ß√£o:</strong> A lavagem correta √© crucial
                                        para a sua sa√∫de! Lave-o √† m√£o ap√≥s o uso, seque-o totalmente ao sol e guarde-o
                                        em um local arejado.</p>
                                </div>
                                <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                                    <h3 class="text-xl font-bold text-violet-600 mb-3">Descarte Consciente</h3>
                                    <ul class="list-none space-y-4">
                                        <li class="flex items-start">
                                            <span class="text-2xl mr-3">üóëÔ∏è</span>
                                            <div><strong>Onde Jogar:</strong> No lixo comum. Sempre embrulhe o produto
                                                usado em papel higi√™nico ou na embalagem original antes de descartar.
                                            </div>
                                        </li>
                                        <li class="flex items-start">
                                            <span class="text-2xl mr-3">üö´</span>
                                            <div><strong>Nunca</strong> jogue absorvente, papel higi√™nico ou outros
                                                produtos no vaso sanit√°rio.</div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- M√ìDULO 4: SEXUALIDADE E PREVEN√á√ÉO -->
                    <div class="shadow-lg rounded-2xl">
                        <!-- Cabe√ßalho Clic√°vel -->
                        <div
                            class="module-toggle bg-white p-5 sm:p-6 rounded-2xl flex justify-between items-center cursor-pointer">
                            <div class="flex items-center">
                                <span class="text-3xl mr-4">üíò</span>
                                <div>
                                    <h2 class="text-xl sm:text-2xl font-bold text-gray-800">M√ìDULO 4: SEXUALIDADE E
                                        PREVEN√á√ÉO</h2>
                                    <p class="text-sm sm:text-base text-gray-600">O Ciclo N√£o √© Contraceptivo! (Alerta)
                                    </p>
                                </div>
                            </div>
                            <span class="toggle-icon text-3xl font-bold text-violet-600">Ôºã</span>
                        </div>
                        <!-- Conte√∫do Oculto -->
                        <div class="module-content hidden bg-white rounded-b-2xl border-t border-gray-100 px-5 sm:px-6">
                            <!-- Card: Alerta -->
                            <div class="bg-rose-100 border-l-4 border-rose-500 p-6 rounded-lg shadow-lg mb-6">
                                <h3 class="text-xl font-bold text-rose-700 mb-3">O Ciclo N√£o √© Contraceptivo! (Alerta)
                                </h3>
                                <p class="leading-relaxed mb-2"><strong>Mito:</strong> O ciclo menstrual regular √©
                                    confi√°vel para evitar gravidez.</p>
                                <p class="leading-relaxed"><strong>Verdade:</strong> O corpo adolescente √© irregular!
                                    N√£o use o app como um calend√°rio contraceptivo. A √∫nica forma segura de evitar
                                    gravidez √© o uso consistente de m√©todos.</p>
                            </div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                                <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                                    <h3 class="text-xl font-bold text-violet-600 mb-3">Preven√ß√£o de ISTs/Aids</h3>
                                    <p class="leading-relaxed">A camisinha (masculina ou feminina) √© o √∫nico m√©todo que
                                        evita as Infec√ß√µes Sexualmente Transmiss√≠veis (ISTs) e ainda ajuda a evitar
                                        gravidez. Voc√™ pode conseguir camisinhas de gra√ßa na enfermaria da escola ou no
                                        posto de sa√∫de.</p>
                                </div>
                                <div class="bg-gray-50 p-6 rounded-2xl shadow-inner">
                                    <h3 class="text-xl font-bold text-violet-600 mb-3">M√©todos Contraceptivos</h3>
                                    <p class="leading-relaxed">Se voc√™ est√° pensando em usar um m√©todo (p√≠lula,
                                        injet√°vel, implante), venha conversar! O enfermeiro pode te dar o primeiro
                                        aconselhamento e te encaminhar para o servi√ßo de sa√∫de. Sua escolha √© importante
                                        e precisa de acompanhamento profissional.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- M√ìDULO 5: ONDE BUSCAR AJUDA -->
                    <div class="shadow-lg rounded-2xl">
                        <!-- Cabe√ßalho Clic√°vel -->
                        <div
                            class="module-toggle bg-white p-5 sm:p-6 rounded-2xl flex justify-between items-center cursor-pointer">
                            <div class="flex items-center">
                                <span class="text-3xl mr-4">‚úÖ</span>
                                <div>
                                    <h2 class="text-xl sm:text-2xl font-bold text-gray-800">M√ìDULO 5: ONDE BUSCAR AJUDA
                                    </h2>
                                    <p class="text-sm sm:text-base text-gray-600">Seu Enfermeiro(a) Escolar e mais.</p>
                                </div>
                            </div>
                            <span class="toggle-icon text-3xl font-bold text-violet-600">Ôºã</span>
                        </div>
                        <!-- Conte√∫do Oculto -->
                        <div class="module-content hidden bg-white rounded-b-2xl border-t border-gray-100 px-5 sm:px-6">
                            <div class="bg-emerald-100 border-l-4 border-emerald-500 p-6 rounded-lg shadow-lg">
                                <h3 class="text-xl font-bold text-emerald-700 mb-4">N√£o Est√° Sozinha! Onde Buscar Ajuda?
                                </h3>
                                <ul class="list-none space-y-4">
                                    <li class="flex items-start">
                                        <span class="text-2xl mr-3">üë©‚Äç‚öïÔ∏è</span>
                                        <div><strong>Seu Enfermeiro(a) Escolar:</strong> Para perguntas sobre seu ciclo,
                                            c√≥licas, m√©todos contraceptivos, e aconselhamento sobre ISTs. Ele/ela √© o
                                            seu primeiro ponto de apoio e pode te orientar.</div>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-2xl mr-3">üè•</span>
                                        <div><strong>Posto de Sa√∫de/UBS:</strong> Local de acesso gratuito a camisinhas,
                                            testes r√°pidos, p√≠lula do dia seguinte (se necess√°rio) e para iniciar o uso
                                            de m√©todos contraceptivos com acompanhamento m√©dico.</div>
                                    </li>
                                    <li class="flex items-start">
                                        <span class="text-2xl mr-3">üí¨</span>
                                        <div><strong>Psic√≥logo(a):</strong> Para suporte emocional, lidar com estresse,
                                            ansiedade e em casos de TDPM (Transtorno Disf√≥rico Pr√©-Menstrual) ou
                                            quest√µes sobre sexualidade e relacionamentos.</div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>

                </div> <!-- Fim do Wrapper dos M√≥dulos -->
            </main>

            <!-- Rodap√© da P√°gina In√≠cio -->
            <footer class="text-center mt-12 py-6 border-t border-violet-200">
                <p class="text-gray-600">Um projeto feito com carinho para voc√™. ‚ù§Ô∏è</p>
            </footer>
        </div>

        <!-- ========================== -->
        <!-- P√ÅGINA: CALEND√ÅRIO (Oculta) -->
        <!-- ========================== -->
        <div id="page-calendario" class="page-content hidden">
            <header class="text-center mb-10">
                <h1 class="text-4xl sm:text-5xl font-bold text-violet-700 mb-4">Calend√°rio do Ciclo</h1>
                <p class="text-lg text-gray-600">Marque os dias da sua menstrua√ß√£o para acompanhar seu ciclo.</p>
            </header>

            <main>
                <div id="calendar-container" class="bg-white p-4 sm:p-6 rounded-2xl shadow-lg">
                    <!-- Cabe√ßalho do Calend√°rio (M√™s/Ano e Bot√µes) -->
                    <div id="calendar-header" class="flex justify-between items-center mb-4">
                        <button id="prev-month" class="p-2 rounded-full hover:bg-violet-100 text-violet-600">
                            <!-- √çcone Lucide -->
                            <i data-lucide="chevron-left" class="h-6 w-6"></i>
                        </button>
                        <h2 id="month-year" class="text-xl font-bold text-violet-800"></h2>
                        <button id="next-month" class="p-2 rounded-full hover:bg-violet-100 text-violet-600">
                            <!-- √çcone Lucide -->
                            <i data-lucide="chevron-right" class="h-6 w-6"></i>
                        </button>
                    </div>

                    <!-- Dias da Semana -->
                    <div id="calendar-weekdays"
                        class="grid grid-cols-7 gap-1 sm:gap-2 text-center font-semibold text-gray-500 text-sm mb-2">
                        <div>D</div>
                        <div>S</div>
                        <div>T</div>
                        <div>Q</div>
                        <div>Q</div>
                        <div>S</div>
                        <div>S</div>
                    </div>

                    <!-- Grid dos Dias -->
                    <div id="calendar-grid" class="grid grid-cols-7 gap-1 sm:gap-2">
                        <!-- Dias ser√£o gerados pelo JS -->
                    </div>

                    <!-- Legenda -->
                    <div class="mt-6 pt-4 border-t border-gray-100">
                        <h3 class="text-lg font-semibold mb-2 text-gray-700">Legenda:</h3>
                        <div class="flex items-center mb-2">
                            <div class="w-5 h-5 bg-rose-300 rounded-full mr-2 border border-rose-400"></div>
                            <span class="text-gray-600">Dias de Menstrua√ß√£o</span>
                        </div>
                        <div class="flex items-center">
                            <div class="w-5 h-5 bg-rose-100 rounded-full mr-2 border border-rose-200"
                                style="background-image: linear-gradient(135deg, rgba(255,255,255,0.5) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.5) 50%, rgba(255,255,255,0.5) 75%, transparent 75%, transparent); background-size: 8px 8px;">
                            </div>
                            <span class="text-gray-600">Previs√£o de Menstrua√ß√£o</span>
                        </div>
                    </div>
                </div>
            </main>
        </div>

        <!-- ========================== -->
        <!-- P√ÅGINA: COMUNIDADE (Oculta) -->
        <!-- ========================== -->
        <div id="page-comunidade" class="page-content hidden">
            <header class="text-center mb-10">
                <h1 class="text-4xl sm:text-5xl font-bold text-violet-700 mb-4">Comunidade</h1>
                <p class="text-lg text-gray-600">Um espa√ßo para compartilhar e aprender juntas.</p>
            </header>
            <main class="space-y-8">

                <!-- Caixa de Nova Postagem (Funcional) -->
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4 flex items-center">
                        <i data-lucide="message-square-plus" class="w-6 h-6 mr-3 text-violet-600"></i>
                        Iniciar uma nova conversa
                    </h2>
                    <textarea id="post-textarea"
                        class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500"
                        rows="3" placeholder="Escreva sua d√∫vida an√¥nima ou compartilhe sua experi√™ncia..."></textarea>
                    <button id="post-btn"
                        class="mt-4 w-full bg-violet-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-violet-700 transition-colors duration-200 flex items-center justify-center">
                        <i data-lucide="send" class="w-5 h-5 mr-2"></i>
                        Postar
                    </button>
                    <p class="text-xs text-gray-500 mt-2 text-center">Suas postagens ficam salvas no seu dispositivo.
                    </p>
                </div>

                <!-- Feed de T√≥picos Recentes (Din√¢mico) -->
                <!-- O JS vai popular este container -->
                <div id="community-feed-wrapper" class="space-y-6">
                    <h2 class="text-3xl font-bold text-gray-800">T√≥picos Recentes</h2>
                    <!-- Posts est√°ticos removidos. Ser√£o gerados por JS -->
                </div>
            </main>
        </div>

        <!-- ====================== -->
        <!-- P√ÅGINA: PERFIL (Oculta) -->
        <!-- ====================== -->
        <div id="page-perfil" class="page-content hidden">
            <header class="text-center mb-10">
                <h1 class="text-4xl sm:text-5xl font-bold text-violet-700 mb-4">Meu Perfil</h1>
                <p class="text-lg text-gray-600">Ajuste suas informa√ß√µes e prefer√™ncias.</p>
            </header>
            <main class="space-y-8">

                <!-- Card de Informa√ß√µes Pessoais -->
                <div class="bg-white p-6 rounded-2xl shadow-lg flex items-center space-x-4">
                    <div>
                        <!-- √çcone de Perfil Grande -->
                        <i data-lucide="user-circle" class="w-16 h-16 text-violet-500"></i>
                    </div>
                    <div class="flex-1">
                        <label for="nickname" class="text-sm font-medium text-gray-500">Seu apelido:</label>
                        <input type="text" id="nickname" value="Visitante"
                            class="w-full text-2xl font-bold text-gray-800 border-b-2 border-transparent focus:border-violet-500 outline-none transition-colors bg-transparent">
                    </div>
                    <button id="save-nickname-btn" class="p-2 rounded-full hover:bg-violet-100 text-violet-600"
                        aria-label="Salvar apelido">
                        <i data-lucide="save" class="w-5 h-5"></i>
                    </button>
                    <span id="save-nickname-feedback"
                        class="text-sm text-green-600 font-medium opacity-0 transition-opacity duration-300">Salvo!</span>
                </div>

                <!-- Card de Configura√ß√µes do Ciclo -->
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                        <i data-lucide="calendar-days" class="w-6 h-6 mr-3 text-violet-600"></i>
                        Configura√ß√µes do Ciclo
                    </h2>
                    <div class="space-y-6">
                        <!-- Dura√ß√£o M√©dia do Ciclo -->
                        <div>
                            <label for="cycle-length" class="block text-sm font-medium text-gray-700 mb-1">Dura√ß√£o m√©dia
                                do seu ciclo (dias):</label>
                            <p class="text-xs text-gray-500 mb-2">Conte do 1¬∫ dia da menstrua√ß√£o at√© o dia *anterior* √†
                                pr√≥xima.</p>
                            <input type="number" id="cycle-length" value="28"
                                class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500">
                        </div>
                        <!-- Dura√ß√£o M√©dia da Menstrua√ß√£o -->
                        <div>
                            <label for="period-length" class="block text-sm font-medium text-gray-700 mb-1">Dura√ß√£o
                                m√©dia da sua menstrua√ß√£o (dias):</label>
                            <input type="number" id="period-length" value="5"
                                class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-violet-500">
                        </div>
                        <div class="flex items-center">
                            <button id="save-config-btn"
                                class="bg-violet-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-violet-700 transition-colors duration-200 flex items-center justify-center">
                                <i data-lucide="save" class="w-5 h-5 mr-2"></i>
                                Salvar Configura√ß√µes do Ciclo
                            </button>
                            <span id="save-config-feedback"
                                class="ml-4 text-sm text-green-600 font-medium opacity-0 transition-opacity duration-300">Salvo!</span>
                        </div>

                    </div>
                </div>

                <!-- NOVO: Card de Gerenciamento de Dados -->
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                        <i data-lucide="archive" class="w-6 h-6 mr-3 text-violet-600"></i>
                        Gerenciamento de Dados
                    </h2>
                    <p class="text-sm text-gray-600 mb-6">Salve uma c√≥pia de seguran√ßa dos seus dados (apelido,
                        configura√ß√µes, datas do ciclo e posts) ou restaure um backup. Seus dados s√£o salvos apenas neste
                        navegador.</p>
                    <div class="flex flex-col sm:flex-row gap-4">
                        <button id="export-data-btn"
                            class="flex-1 bg-violet-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-violet-700 transition-colors duration-200 flex items-center justify-center">
                            <i data-lucide="download" class="w-5 h-5 mr-2"></i>
                            Exportar Meus Dados
                        </button>

                        <label for="import-file-input"
                            class="flex-1 bg-gray-100 text-gray-800 font-bold py-3 px-6 rounded-lg shadow-md hover:bg-gray-200 transition-colors duration-200 flex items-center justify-center cursor-pointer">
                            <i data-lucide="upload" class="w-5 h-5 mr-2"></i>
                            Importar Dados
                        </label>
                        <input type="file" id="import-file-input" class="hidden" accept=".json">

                    </div>
                    <span id="import-feedback"
                        class="mt-4 text-sm text-green-600 font-medium opacity-0 transition-opacity duration-300 block text-center"></span>
                </div>

                <!-- Card de Prefer√™ncias e Outros -->
                <div class="bg-white p-6 rounded-2xl shadow-lg">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 flex items-center">
                        <i data-lucide="settings-2" class="w-6 h-6 mr-3 text-violet-600"></i>
                        Prefer√™ncias e Outros
                    </h2>
                    <div class="space-y-4">
                        <!-- Notifica√ß√µes (Simulado com Checkbox) -->
                        <div class="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                            <span class="font-medium text-gray-700">Lembretes e Notifica√ß√µes</span>
                            <label class="relative inline-flex items-center cursor-pointer">
                                <input type="checkbox" value="" class="sr-only peer" checked>
                                <div
                                    class="w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-2 peer-focus:ring-violet-300 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-violet-600">
                                </div>
                            </label>
                        </div>

                        <!-- Links Agora s√£o Bot√µes com data-target -->
                        <button data-target="page-privacidade"
                            class="subpage-trigger w-full text-left flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
                            <span class="font-medium text-gray-700">Pol√≠tica de Privacidade</span>
                            <i data-lucide="chevron-right" class="w-5 h-5 text-gray-400"></i>
                        </button>
                        <button data-target="page-termos"
                            class="subpage-trigger w-full text-left flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
                            <span class="font-medium text-gray-700">Termos de Uso</span>
                            <i data-lucide="chevron-right" class="w-5 h-5 text-gray-400"></i>
                        </button>
                        <button data-target="page-ajuda"
                            class="subpage-trigger w-full text-left flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors">
                            <span class="font-medium text-gray-700">Ajuda e Suporte</span>
                            <i data-lucide="chevron-right" class="w-5 h-5 text-gray-400"></i>
                        </button>
                    </div>
                </div>

            </main>
        </div>

        <!-- ============================= -->
        <!-- P√ÅGINA: PRIVACIDADE (Oculta)  -->
        <!-- ============================= -->
        <div id="page-privacidade" class="page-content hidden">
            <header class="mb-8">
                <!-- Bot√£o Voltar -->
                <button data-target="page-perfil"
                    class="subpage-trigger mb-4 inline-flex items-center text-violet-600 font-semibold hover:text-violet-800 transition-colors">
                    <i data-lucide="chevron-left" class="w-5 h-5 mr-1"></i>
                    Voltar ao Perfil
                </button>
                <h1 class="text-4xl sm:text-5xl font-bold text-violet-700 mb-4">Pol√≠tica de Privacidade</h1>
            </header>
            <main class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg space-y-5 text-gray-700 leading-relaxed">
                <p>N√≥s levamos sua privacidade a s√©rio. Este aplicativo foi projetado para ser um espa√ßo seguro para
                    voc√™.</p>

                <h2 class="text-xl font-bold text-gray-800 pt-4">1. Quais dados coletamos?</h2>
                <p>Coletamos apenas as informa√ß√µes que voc√™ insere voluntariamente, como:</p>
                <ul class="list-disc list-inside ml-4 space-y-1">
                    <li>Seu apelido (opcional).</li>
                    <li>As datas do seu ciclo (dias de menstrua√ß√£o).</li>
                    <li>As configura√ß√µes do seu ciclo (dura√ß√£o m√©dia).</li>
                </ul>

                <h2 class="text-xl font-bold text-gray-800 pt-4">2. Como usamos seus dados?</h2>
                <p>Os dados que voc√™ insere (como as datas do ciclo) s√£o usados <strong
                        class="text-violet-700">exclusivamente</strong> para fazer os c√°lculos das previs√µes do
                    calend√°rio. Eles ficam armazenados apenas no seu dispositivo e n√£o s√£o compartilhados com ningu√©m.
                </p>

                <h2 class="text-xl font-bold text-gray-800 pt-4">3. Compartilhamento de Dados</h2>
                <p>N√≥s <strong class="text-rose-600">nunca</strong> venderemos ou compartilharemos suas informa√ß√µes
                    pessoais ou dados do seu ciclo com terceiros.</p>

                <h2 class="text-xl font-bold text-gray-800 pt-4">4. Seus Direitos</h2>
                <p>Voc√™ tem controle total sobre seus dados. Voc√™ pode editar ou apagar suas informa√ß√µes a qualquer
                    momento diretamente no aplicativo.</p>
            </main>
        </div>

        <!-- ======================== -->
        <!-- P√ÅGINA: TERMOS (Oculta)  -->
        <!-- ======================== -->
        <div id="page-termos" class="page-content hidden">
            <header class="mb-8">
                <!-- Bot√£o Voltar -->
                <button data-target="page-perfil"
                    class="subpage-trigger mb-4 inline-flex items-center text-violet-600 font-semibold hover:text-violet-800 transition-colors">
                    <i data-lucide="chevron-left" class="w-5 h-5 mr-1"></i>
                    Voltar ao Perfil
                </button>
                <h1 class="text-4xl sm:text-5xl font-bold text-violet-700 mb-4">Termos de Uso</h1>
            </header>
            <main class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg space-y-5 text-gray-700 leading-relaxed">
                <h2 class="text-xl font-bold text-gray-800">1. Aceita√ß√£o dos Termos</h2>
                <p>Ao usar este aplicativo, voc√™ concorda com estes termos. O objetivo deste app √© puramente educacional
                    e informativo.</p>

                <h2 class="text-xl font-bold text-gray-800 pt-4">2. Este App N√£o √© Aconselhamento M√©dico</h2>
                <p class="font-bold text-rose-600">As informa√ß√µes e previs√µes fornecidas neste aplicativo N√ÉO substituem
                    uma consulta com um profissional de sa√∫de (como seu enfermeiro(a) escolar ou ginecologista).</p>
                <p>O conte√∫do √© baseado em informa√ß√µes gerais e pode n√£o se aplicar perfeitamente ao seu corpo,
                    especialmente nos primeiros anos do ciclo, que pode ser muito irregular.</p>

                <h2 class="text-xl font-bold text-gray-800 pt-4">3. Previs√µes do Calend√°rio</h2>
                <p>As previs√µes do calend√°rio s√£o <strong class="text-violet-700">estimativas</strong> baseadas nos
                    dados que voc√™ insere. Elas podem conter erros e n√£o devem, em hip√≥tese alguma, ser usadas como
                    m√©todo contraceptivo.</p>

                <h2 class="text-xl font-bold text-gray-800 pt-4">4. Uso Respons√°vel</h2>
                <p>Use as informa√ß√µes aqui para aprender sobre seu corpo e para ter conversas mais informadas com
                    profissionais de sa√∫de e adultos de sua confian√ßa.</p>
            </main>
        </div>

        <!-- ======================= -->
        <!-- P√ÅGINA: AJUDA (Oculta)  -->
        <!-- ======================= -->
        <div id="page-ajuda" class="page-content hidden">
            <header class="mb-8">
                <!-- Bot√£o Voltar -->
                <button data-target="page-perfil"
                    class="subpage-trigger mb-4 inline-flex items-center text-violet-600 font-semibold hover:text-violet-800 transition-colors">
                    <i data-lucide="chevron-left" class="w-5 h-5 mr-1"></i>
                    Voltar ao Perfil
                </button>
                <h1 class="text-4xl sm:text-5xl font-bold text-violet-700 mb-4">Ajuda e Suporte</h1>
                <p class="text-lg text-gray-600">Perguntas Frequentes (FAQ)</p>
            </header>
            <main class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg space-y-6">
                <!-- FAQ 1 -->
                <div>
                    <h3 class="text-xl font-bold text-violet-700 mb-2">P: Como eu marco os dias da minha menstrua√ß√£o?
                    </h3>
                    <p><strong>R:</strong> √â simples! V√° at√© a aba "Calend√°rio", clique no dia em que sua menstrua√ß√£o
                        come√ßou e continue clicando nos dias seguintes enquanto ela durar. O dia ficar√° marcado com a
                        cor rosa.</p>
                </div>

                <!-- FAQ 2 -->
                <div class="pt-4 border-t border-gray-100">
                    <h3 class="text-xl font-bold text-violet-700 mb-2">P: O calend√°rio est√° mostrando previs√µes
                        estranhas. O que eu fa√ßo?</h3>
                    <p><strong>R:</strong> As previs√µes dependem das informa√ß√µes que voc√™ coloca! V√° na aba "Perfil" e
                        ajuste as "Configura√ß√µes do Ciclo". Coloque a dura√ß√£o m√©dia do seu ciclo (ex: 28 dias) e a
                        dura√ß√£o m√©dia da sua menstrua√ß√£o (ex: 5 dias). Quanto mais voc√™ usar e marcar os dias, mais
                        inteligente o calend√°rio fica.</p>
                </div>

                <!-- FAQ 3 -->
                <div class="pt-4 border-t border-gray-100">
                    <h3 class="text-xl font-bold text-violet-700 mb-2">P: Estou com uma c√≥lica muito forte / fluxo muito
                        intenso. O que fa√ßo?</h3>
                    <p><strong>R:</strong> V√° na aba "In√≠cio" e leia o card "Sinais de Alerta". Se voc√™ se identificar
                        com qualquer um daqueles pontos, procure seu/sua Enfermeiro(a) Escolar ou um Posto de Sa√∫de. N√£o
                        ignore dores fortes!</p>
                </div>

                <!-- FAQ 4 -->
                <div class="pt-4 border-t border-gray-100">
                    <h3 class="text-xl font-bold text-violet-700 mb-2">P: Posso usar o calend√°rio para saber quando n√£o
                        vou engravidar?</h3>
                    <p><strong class="text-rose-600">R: N√ÉO! NUNCA!</strong> Como diz o M√≥dulo 4, o corpo adolescente √©
                        muito irregular. As previs√µes deste app s√£o apenas estimativas para voc√™ se organizar e <strong
                            class="underline">N√ÉO SERVEM</strong> como m√©todo contraceptivo. Converse com um
                        profissional de sa√∫de sobre isso.</p>
                </div>
            </main>
        </div>


    </div>

    <!-- ======================== -->
    <!-- NAVEGA√á√ÉO INFERIOR FIXA -->
    <!-- ======================== -->
    <nav
        class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-t-lg flex justify-around p-3 sm:p-4 z-50">
        <!-- Bot√£o In√≠cio (Ativo por padr√£o) -->
        <button data-target="page-inicio"
            class="nav-button flex flex-col items-center justify-center w-1/4 text-violet-600">
            <!-- √çcone Lucide -->
            <i data-lucide="home" class="nav-icon w-6 h-6 mb-1 text-violet-600"></i>
            <span class="nav-text text-xs sm:text-sm font-medium text-violet-600">In√≠cio</span>
        </button>

        <!-- Bot√£o Calend√°rio -->
        <button data-target="page-calendario"
            class="nav-button flex flex-col items-center justify-center w-1/4 text-gray-400">
            <!-- √çcone Lucide -->
            <i data-lucide="calendar" class="nav-icon w-6 h-6 mb-1 text-gray-400"></i>
            <span class="nav-text text-xs sm:text-sm font-medium text-gray-400">Calend√°rio</span>
        </button>

        <!-- Bot√£o Comunidade -->
        <button data-target="page-comunidade"
            class="nav-button flex flex-col items-center justify-center w-1/4 text-gray-400">
            <!-- √çcone Lucide -->
            <i data-lucide="users" class="nav-icon w-6 h-6 mb-1 text-gray-400"></i>
            <span class="nav-text text-xs sm:text-sm font-medium text-gray-400">Comunidade</span>
        </button>

        <!-- Bot√£o Perfil -->
        <button data-target="page-perfil"
            class="nav-button flex flex-col items-center justify-center w-1/4 text-gray-400">
            <!-- √çcone Lucide -->
            <i data-lucide="user" class="nav-icon w-6 h-6 mb-1 text-gray-400"></i>
            <span class="nav-text text-xs sm:text-sm font-medium text-gray-400">Perfil</span>
        </button>
    </nav>


    <!-- ================== -->
    <!-- SCRIPT GERAL (JS) -->
    <!-- ================== -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- CHAVES E DADOS DO LOCALSTORAGE ---
            const STORAGE_KEY_CONFIG = 'cicloConfig';
            const STORAGE_KEY_DATES = 'cicloSelectedDates';
            const STORAGE_KEY_POSTS = 'cicloCommunityPosts';
            const STORAGE_KEY_NICKNAME = 'cicloNickname';

            // Carrega dados do localStorage ou usa valores padr√£o
            let cicloConfig = JSON.parse(localStorage.getItem(STORAGE_KEY_CONFIG)) || {
                cycleLength: 28,
                periodLength: 5
            };
            let selectedDates = new Set(JSON.parse(localStorage.getItem(STORAGE_KEY_DATES)) || []);
            let userNickname = localStorage.getItem(STORAGE_KEY_NICKNAME) || 'Visitante';

            // Posts de fallback (usados se o localStorage estiver vazio)
            const fallbackPosts = [
                {
                    id: 1,
                    author: 'MeninaLua',
                    avatarColor: 'text-rose-500',
                    timestamp: '2 horas atr√°s',
                    title: '√â normal sentir tanta c√≥lica no primeiro dia?',
                    body: 'Gente, s√©rio, meu primeiro dia √© sempre muito dif√≠cil, mal consigo levantar. Mais algu√©m passa por isso? O que voc√™s fazem?',
                    replies: 5
                },
                {
                    id: 2,
                    author: 'CicloConsciente',
                    avatarColor: 'text-emerald-500',
                    timestamp: '8 horas atr√°s',
                    title: 'Dica sobre o eco-absorvente de pano!',
                    body: 'Para quem estava com medo de testar: eu comecei a usar o de pano no m√™s passado e foi a melhor decis√£o! Muito mais confort√°vel...',
                    replies: 12
                },
                {
                    id: 3,
                    author: 'Ana_PrimeiroCiclo',
                    avatarColor: 'text-sky-500',
                    timestamp: '1 dia atr√°s',
                    title: 'Minha menstrua√ß√£o atrasou, devo me preocupar?',
                    body: 'Minha primeira menstrua√ß√£o veio h√° 3 meses, e agora ela est√° atrasada 10 dias. Isso √© normal no come√ßo? (N√£o sou sexualmente ativa).',
                    replies: 8
                }
            ];
            let communityPosts = JSON.parse(localStorage.getItem(STORAGE_KEY_POSTS)) || fallbackPosts;

            // --- FUN√á√ÉO HELPER PARA FEEDBACK ---
            function showFeedback(element, message) {
                if (element) {
                    element.textContent = message;
                    element.classList.remove('opacity-0');
                    setTimeout(() => {
                        element.classList.add('opacity-0');
                    }, 2000);
                }
            }


            // --- L√ìGICA DE PERFIL (page-perfil) ---
            const nicknameInput = document.getElementById('nickname');
            const saveNicknameBtn = document.getElementById('save-nickname-btn');
            const nicknameFeedback = document.getElementById('save-nickname-feedback');

            const cycleLengthInput = document.getElementById('cycle-length');
            const periodLengthInput = document.getElementById('period-length');
            const saveConfigBtn = document.getElementById('save-config-btn');
            const configFeedback = document.getElementById('save-config-feedback');

            // --- NOVO: Elementos de Import/Export ---
            const exportBtn = document.getElementById('export-data-btn');
            const importInput = document.getElementById('import-file-input');
            const importFeedback = document.getElementById('import-feedback');

            // Popular campos ao carregar
            if (nicknameInput) nicknameInput.value = userNickname;
            if (cycleLengthInput) cycleLengthInput.value = cicloConfig.cycleLength;
            if (periodLengthInput) periodLengthInput.value = cicloConfig.periodLength;

            // Salvar Nickname
            if (saveNicknameBtn) {
                saveNicknameBtn.addEventListener('click', () => {
                    userNickname = nicknameInput.value.trim() || 'Visitante';
                    localStorage.setItem(STORAGE_KEY_NICKNAME, userNickname);
                    nicknameInput.value = userNickname;
                    showFeedback(nicknameFeedback, 'Salvo!');
                });
            }

            // Salvar Config do Ciclo
            if (saveConfigBtn) {
                saveConfigBtn.addEventListener('click', () => {
                    cicloConfig.cycleLength = parseInt(cycleLengthInput.value) || 28;
                    cicloConfig.periodLength = parseInt(periodLengthInput.value) || 5;
                    localStorage.setItem(STORAGE_KEY_CONFIG, JSON.stringify(cicloConfig));
                    showFeedback(configFeedback, 'Salvo!');

                    // Re-renderizar o calend√°rio com novas previs√µes, se ele estiver vis√≠vel
                    if (window.renderCalendar) {
                        const calPage = document.getElementById('page-calendario');
                        if (!calPage.classList.contains('hidden')) {
                            let currentDate = new Date(); // Re-cria a data atual para resetar
                            window.renderCalendar(currentDate.getFullYear(), currentDate.getMonth());
                        }
                    }
                });
            }

            // --- NOVO: L√≥gica de Exporta√ß√£o ---
            if (exportBtn) {
                exportBtn.addEventListener('click', () => {
                    try {
                        const backupData = {
                            nickname: localStorage.getItem(STORAGE_KEY_NICKNAME) || 'Visitante',
                            config: localStorage.getItem(STORAGE_KEY_CONFIG) || JSON.stringify({ cycleLength: 28, periodLength: 5 }),
                            dates: localStorage.getItem(STORAGE_KEY_DATES) || '[]',
                            posts: localStorage.getItem(STORAGE_KEY_POSTS) || JSON.stringify(fallbackPosts)
                        };

                        const jsonString = JSON.stringify(backupData, null, 2);
                        const blob = new Blob([jsonString], { type: 'application/json' });
                        const url = URL.createObjectURL(blob);

                        const a = document.createElement('a');
                        a.href = url;
                        a.download = `meu_ciclo_backup_${new Date().toISOString().split('T')[0]}.json`;
                        document.body.appendChild(a);
                        a.click();
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);

                        showFeedback(importFeedback, 'Dados exportados com sucesso!');
                        importFeedback.classList.remove('text-red-600');
                        importFeedback.classList.add('text-green-600');

                    } catch (error) {
                        console.error('Erro ao exportar dados:', error);
                        showFeedback(importFeedback, 'Erro ao exportar dados.');
                        importFeedback.classList.remove('text-green-600');
                        importFeedback.classList.add('text-red-600');
                    }
                });
            }

            // --- NOVO: L√≥gica de Importa√ß√£o ---
            if (importInput) {
                importInput.addEventListener('change', (event) => {
                    const file = event.target.files[0];
                    if (!file) {
                        return;
                    }

                    const reader = new FileReader();
                    reader.onload = (e) => {
                        try {
                            const text = e.target.result;
                            const backupData = JSON.parse(text);

                            // Valida√ß√£o b√°sica
                            if (backupData.nickname && backupData.config && backupData.dates && backupData.posts) {
                                // Salva os dados brutos. O app j√° sabe como ler esses JSONs na inicializa√ß√£o.
                                localStorage.setItem(STORAGE_KEY_NICKNAME, backupData.nickname);
                                localStorage.setItem(STORAGE_KEY_CONFIG, backupData.config);
                                localStorage.setItem(STORAGE_KEY_DATES, backupData.dates);
                                localStorage.setItem(STORAGE_KEY_POSTS, backupData.posts);

                                // Mostra feedback e recarrega
                                showFeedback(importFeedback, 'Sucesso! Recarregando app...');
                                importFeedback.classList.remove('text-red-600');
                                importFeedback.classList.add('text-green-600');

                                setTimeout(() => {
                                    window.location.reload();
                                }, 2000);

                            } else {
                                throw new Error('Arquivo de backup inv√°lido ou corrompido.');
                            }
                        } catch (error) {
                            console.error('Erro ao importar dados:', error);
                            showFeedback(importFeedback, `Erro: ${error.message}`);
                            importFeedback.classList.remove('text-green-600');
                            importFeedback.classList.add('text-red-600');
                        } finally {
                            // Limpa o input para permitir o re-upload do mesmo arquivo
                            event.target.value = null;
                        }
                    };
                    reader.readAsText(file);
                });
            }


            // --- L√ìGICA DA COMUNIDADE (page-comunidade) ---
            const postTextarea = document.getElementById('post-textarea');
            const postBtn = document.getElementById('post-btn');
            const feedWrapper = document.getElementById('community-feed-wrapper');

            function createPostHTML(post) {
                // Fun√ß√£o para escapar HTML e evitar XSS b√°sico
                const escapeHTML = (str) => {
                    if (typeof str !== 'string') return '';
                    return str.replace(/[&<>"']/g, (match) => ({
                        '&': '&amp;',
                        '<': '&lt;',
                        '>': '&gt;',
                        '"': '&quot;',
                        "'": '&#39;'
                    }[match]));
                }

                const safeTitle = escapeHTML(post.title);
                // Preserva quebras de linha e escapa HTML
                const safeBody = escapeHTML(post.body).replace(/\n/g, '<br>');

                return `
                <div class="bg-white p-6 rounded-2xl shadow-lg cursor-pointer hover:bg-gray-50 transition-colors">
                    <div class="flex items-center space-x-3 mb-4">
                        <i data-lucide="user-circle-2" class="w-10 h-10 ${escapeHTML(post.avatarColor) || 'text-gray-500'}"></i>
                        <div>
                            <h3 class="font-bold text-gray-800">${escapeHTML(post.author)}</h3>
                            <p class="text-xs text-gray-500">Postado ${escapeHTML(post.timestamp)}</p>
                        </div>
                    </div>
                    <h4 class="text-xl font-semibold text-violet-700 mb-2">${safeTitle}</h4>
                    <p class="text-gray-600 mb-4 break-words">${safeBody}</p>
                    <div class="flex items-center text-sm text-gray-500">
                        <i data-lucide="message-circle" class="w-4 h-4 mr-1.5"></i>
                        ${escapeHTML(String(post.replies))} Respostas
                    </div>
                </div>
                `;
            }

            function renderCommunityPosts() {
                if (!feedWrapper) return;

                // Encontra o H2 (T√≠tulo) para preserv√°-lo
                const titleElement = feedWrapper.querySelector('h2');

                // Limpa apenas os posts antigos
                feedWrapper.innerHTML = '';
                if (titleElement) {
                    feedWrapper.appendChild(titleElement); // Readiciona o t√≠tulo
                }

                // Adiciona os posts
                if (communityPosts.length === 0) {
                    const noPostsEl = document.createElement('p');
                    noPostsEl.className = 'text-gray-500 text-center';
                    noPostsEl.textContent = 'Ainda n√£o h√° posts. Seja a primeira a compartilhar!';
                    feedWrapper.appendChild(noPostsEl);
                } else {
                    communityPosts.forEach(post => {
                        // Usamos insertAdjacentHTML para renderizar o HTML
                        feedWrapper.insertAdjacentHTML('beforeend', createPostHTML(post));
                    });
                }
                // Re-cria os √≠cones do Lucide
                if (window.lucide) {
                    lucide.createIcons();
                }
            }

            // Postar
            if (postBtn) {
                postBtn.addEventListener('click', () => {
                    const text = postTextarea.value.trim();
                    if (text) {
                        const newPost = {
                            id: Date.now(),
                            author: userNickname, // Usa o nickname salvo
                            avatarColor: 'text-violet-500', // Cor para novos posts
                            timestamp: 'Agora mesmo',
                            title: text.substring(0, 50) + (text.length > 50 ? '...' : ''),
                            body: text,
                            replies: 0
                        };

                        communityPosts.unshift(newPost); // Adiciona no in√≠cio
                        localStorage.setItem(STORAGE_KEY_POSTS, JSON.stringify(communityPosts));
                        renderCommunityPosts();
                        postTextarea.value = '';
                    }
                });
            }


            // --- L√ìGICA DO CALEND√ÅRIO (para a p√°gina "Calend√°rio") ---
            const monthYearEl = document.getElementById('month-year');
            const gridEl = document.getElementById('calendar-grid');
            const prevBtn = document.getElementById('prev-month');
            const nextBtn = document.getElementById('next-month');
            let currentDateForCalendar = new Date(); // Vari√°vel para controlar o m√™s/ano do calend√°rio

            // Verifica se os elementos do calend√°rio existem antes de adicionar listeners
            if (monthYearEl && gridEl && prevBtn && nextBtn) {
                const monthNames = ["Janeiro", "Fevereiro", "Mar√ßo", "Abril", "Maio", "Junho", "Julho", "Agosto", "Setembro", "Outubro", "Novembro", "Dezembro"];

                // Fun√ß√£o para adicionar dias a uma data
                function addDays(date, days) {
                    const result = new Date(date);
                    result.setDate(result.getDate() + days);
                    return result;
                }

                // Fun√ß√£o para formatar data como YYYY-MM-DD
                function formatDate(date) {
                    return `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, '0')}-${String(date.getDate()).padStart(2, '0')}`;
                }

                // Fun√ß√£o para calcular previs√µes
                function getPredictions() {
                    if (selectedDates.size === 0) {
                        return { nextPeriod: [], fertileWindow: [] };
                    }

                    // Converte o Set para Array e ordena
                    const sortedDates = Array.from(selectedDates).sort((a, b) => new Date(a) - new Date(b));

                    // Agrupa datas consecutivas para encontrar o in√≠cio de cada ciclo
                    let cyclesStartDates = [];
                    if (sortedDates.length > 0) {
                        cyclesStartDates.push(new Date(sortedDates[0])); // Adiciona o primeiro dia

                        for (let i = 1; i < sortedDates.length; i++) {
                            let prevDate = new Date(sortedDates[i - 1]);
                            let currDate = new Date(sortedDates[i]);
                            let diffTime = currDate.getTime() - prevDate.getTime();
                            let diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));

                            // Se a diferen√ßa for maior que (ex: 15 dias), consideramos um novo ciclo
                            if (diffDays > 15) {
                                cyclesStartDates.push(currDate);
                            }
                        }
                    }

                    if (cyclesStartDates.length === 0) {
                        return { nextPeriod: [], fertileWindow: [] }; // N√£o h√° dados suficientes
                    }

                    // Pega o in√≠cio do √∫ltimo ciclo registrado
                    const lastCycleStartDate = cyclesStartDates[cyclesStartDates.length - 1];

                    const { cycleLength, periodLength } = cicloConfig; // Pega config salva

                    // Calcula o in√≠cio da pr√≥xima menstrua√ß√£o
                    const nextPeriodStartDate = addDays(lastCycleStartDate, cycleLength);

                    const predictions = {
                        nextPeriod: [],
                        fertileWindow: [] // N√£o implementado para simplificar
                    };

                    // Adiciona os dias da previs√£o da menstrua√ß√£o
                    for (let i = 0; i < periodLength; i++) {
                        predictions.nextPeriod.push(formatDate(addDays(nextPeriodStartDate, i)));
                    }

                    return predictions;
                }

                // Tornar a fun√ß√£o de renderiza√ß√£o global para ser chamada pelo bot√£o Salvar
                window.renderCalendar = function (year, month) {
                    if (!gridEl || !monthYearEl) return;

                    // Limpa o grid
                    gridEl.innerHTML = '';

                    // Define o cabe√ßalho com M√™s/Ano
                    monthYearEl.textContent = `${monthNames[month]} ${year}`;

                    // Pega as previs√µes
                    const predictions = getPredictions();

                    // Pega o primeiro dia da semana (0=Domingo, 1=Segunda, ...)
                    let firstDayOfWeek = new Date(year, month, 1).getDay();
                    // Pega o total de dias no m√™s
                    let totalDaysInMonth = new Date(year, month + 1, 0).getDate();

                    // 1. Adiciona c√©lulas vazias
                    for (let i = 0; i < firstDayOfWeek; i++) {
                        gridEl.appendChild(document.createElement('div'));
                    }

                    // 2. Adiciona as c√©lulas dos dias
                    let today = new Date();
                    for (let day = 1; day <= totalDaysInMonth; day++) {
                        const dayEl = document.createElement('div');
                        const dateString = `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;

                        dayEl.textContent = day;
                        dayEl.className = 'h-10 w-10 flex items-center justify-center rounded-full cursor-pointer hover:bg-violet-100 transition-colors duration-150';

                        // Marca o dia atual (hoje)
                        const isToday = day === today.getDate() && month === today.getMonth() && year === today.getFullYear();
                        if (isToday) {
                            dayEl.classList.add('bg-violet-100', 'text-violet-700', 'font-bold');
                        }

                        // Estiliza com base na sele√ß√£o ou previs√£o
                        if (selectedDates.has(dateString)) {
                            // Dia de menstrua√ß√£o (marcado pelo usu√°rio)
                            dayEl.className = 'h-10 w-10 flex items-center justify-center rounded-full cursor-pointer bg-rose-300 text-rose-800 font-bold';
                        } else if (predictions.nextPeriod.includes(dateString)) {
                            // Dia de previs√£o
                            dayEl.className = 'h-10 w-10 flex items-center justify-center rounded-full cursor-pointer bg-rose-100 text-rose-500 border border-rose-200';
                            dayEl.style.backgroundImage = 'linear-gradient(135deg, rgba(255,255,255,0.5) 25%, transparent 25%, transparent 50%, rgba(255,255,255,0.5) 50%, rgba(255,255,255,0.5) 75%, transparent 75%, transparent)';
                            dayEl.style.backgroundSize = '8px 8px';
                        }

                        // Adiciona evento de clique para selecionar/desselecionar
                        dayEl.addEventListener('click', () => {
                            if (selectedDates.has(dateString)) {
                                selectedDates.delete(dateString);
                            } else {
                                selectedDates.add(dateString);
                            }
                            // Salva no localStorage
                            localStorage.setItem(STORAGE_KEY_DATES, JSON.stringify(Array.from(selectedDates)));
                            // Re-renderiza o calend√°rio para atualizar cores e previs√µes
                            window.renderCalendar(year, month);
                        });

                        gridEl.appendChild(dayEl);
                    }
                }

                // Bot√£o M√™s Anterior
                prevBtn.addEventListener('click', () => {
                    currentDateForCalendar.setMonth(currentDateForCalendar.getMonth() - 1);
                    window.renderCalendar(currentDateForCalendar.getFullYear(), currentDateForCalendar.getMonth());
                });

                // Bot√£o Pr√≥ximo M√™s
                nextBtn.addEventListener('click', () => {
                    currentDateForCalendar.setMonth(currentDateForCalendar.getMonth() + 1);
                    window.renderCalendar(currentDateForCalendar.getFullYear(), currentDateForCalendar.getMonth());
                });

                // Renderiza o calend√°rio inicial (ser√° chamado pela navega√ß√£o)
            }


            // --- L√ìGICA DE NAVEGA√á√ÉO DAS P√ÅGINAS ---
            const navButtons = document.querySelectorAll('.nav-button');
            const pages = document.querySelectorAll('.page-content');

            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetPageId = button.dataset.target;

                    // Esconde todas as p√°ginas
                    pages.forEach(page => page.classList.add('hidden'));

                    // Mostra a p√°gina alvo
                    const targetPage = document.getElementById(targetPageId);
                    if (targetPage) {
                        targetPage.classList.remove('hidden');
                    }

                    // Atualiza o estado visual dos bot√µes de navega√ß√£o
                    navButtons.forEach(btn => {
                        const icon = btn.querySelector('.nav-icon');
                        const text = btn.querySelector('.nav-text');
                        btn.classList.remove('text-violet-600');
                        btn.classList.add('text-gray-400');
                        if (icon) {
                            icon.classList.remove('text-violet-600');
                            icon.classList.add('text-gray-400');
                        }
                        if (text) {
                            text.classList.remove('text-violet-600');
                            text.classList.add('text-gray-400');
                        }
                    });

                    // Ativa o bot√£o clicado
                    const icon = button.querySelector('.nav-icon');
                    const text = button.querySelector('.nav-text');
                    button.classList.add('text-violet-600');
                    button.classList.remove('text-gray-400');
                    if (icon) {
                        icon.classList.add('text-violet-600');
                        icon.classList.remove('text-gray-400');
                    }
                    if (text) {
                        text.classList.add('text-violet-600');
                        text.classList.remove('text-gray-400');
                    }

                    // --- ATUALIZA√á√ïES DIN√ÇMICAS AO TROCAR DE ABA ---
                    if (targetPageId === 'page-comunidade') {
                        renderCommunityPosts();
                    }
                    if (targetPageId === 'page-calendario' && window.renderCalendar) {
                        // Renderiza o m√™s atual ao abrir o calend√°rio
                        currentDateForCalendar = new Date();
                        window.renderCalendar(currentDateForCalendar.getFullYear(), currentDateForCalendar.getMonth());
                    }
                    if (targetPageId === 'page-perfil') {
                        // Garante que os dados do perfil estejam atualizados
                        if (nicknameInput) nicknameInput.value = userNickname;
                        if (cycleLengthInput) cycleLengthInput.value = cicloConfig.cycleLength;
                        if (periodLengthInput) periodLengthInput.value = cicloConfig.periodLength;
                    }

                    // Rola a p√°gina para o topo ao trocar de aba
                    window.scrollTo(0, 0);
                });
            });

            // --- L√ìGICA DE NAVEGA√á√ÉO DE SUB-P√ÅGINAS (Perfil > Links) ---
            const subpageTriggers = document.querySelectorAll('.subpage-trigger');

            subpageTriggers.forEach(button => {
                button.addEventListener('click', () => {
                    const targetPageId = button.dataset.target;

                    // Esconde todas as p√°ginas
                    pages.forEach(page => page.classList.add('hidden'));

                    // Mostra a p√°gina alvo
                    const targetPage = document.getElementById(targetPageId);
                    if (targetPage) {
                        targetPage.classList.remove('hidden');
                    }

                    // Rola a p√°gina para o topo
                    window.scrollTo(0, 0);
                    // Nota: Esta l√≥gica n√£o mexe no estado visual da nav principal
                });
            });

            // --- L√ìGICA DO ACORDE√ÉO (para a p√°gina "In√≠cio") ---
            const toggles = document.querySelectorAll('.module-toggle');
            toggles.forEach(toggle => {
                toggle.addEventListener('click', () => {
                    const content = toggle.nextElementSibling;
                    const icon = toggle.querySelector('.toggle-icon');

                    content.classList.toggle('hidden');
                    // Arredonda o cabe√ßalho quando fechado
                    toggle.classList.toggle('rounded-b-2xl', content.classList.contains('hidden'));

                    if (content.classList.contains('hidden')) {
                        icon.textContent = 'Ôºã';
                    } else {
                        icon.textContent = 'Ôºç';
                    }
                });
            });

            // --- INICIALIZA LUCIDE ICONS ---
            if (window.lucide) {
                lucide.createIcons();
            }
        });
    </script>

</body>

</html>